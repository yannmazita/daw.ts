@startuml Audio Signal Flow

package "Sources" {
  [MIDI Clip] as MIDIClip
  [Audio Clip] as AudioClip
}

package "Track Processing" {
  [Input Gain]
  [Pre-FX Chain]
  [Channel Strip]
  [Post-FX Chain]
  [Track Output]
}

package "Routing" {
  [Sends]
  [Return Tracks]
  [Master Channel]
}

[Audio Output]

MIDIClip --> [Input Gain]
AudioClip --> [Input Gain]
[Input Gain] --> [Pre-FX Chain]
[Pre-FX Chain] --> [Channel Strip]
[Channel Strip] --> [Post-FX Chain]
[Post-FX Chain] --> [Track Output]
[Track Output] --> [Master Channel]
[Track Output] --> [Sends]
[Sends] --> [Return Tracks]
[Return Tracks] --> [Master Channel]
[Master Channel] --> [Audio Output]

note right of [Channel Strip]
  Uses Tone.Channel
  - Volume
  - Pan
  - Mute/Solo
end note

note right of [Sends]
  Pre/Post Fader
  Sends to Return Tracks
end note

@enduml
